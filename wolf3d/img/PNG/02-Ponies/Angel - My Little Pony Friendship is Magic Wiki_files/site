var autoCollapse=2;var collapseCaption="hide";var expandCaption="show";var hasClass=(function(){var reCache={};return function(element,className){return(reCache[className]?reCache[className]:(reCache[className]=new RegExp("(?:\\s|^)"+className+"(?:\\s|$)"))).test(element.className);};})();var NavigationBarHide='['+collapseCaption+']';var NavigationBarShow='['+expandCaption+']';var NavigationBarShowDefault=autoCollapse;function toggleNavigationBar(indexNavigationBar){var NavToggle=document.getElementById("NavToggle"+indexNavigationBar);var NavFrame=document.getElementById("NavFrame"+indexNavigationBar);if(!NavFrame||!NavToggle){return false;}if(NavToggle.firstChild.data.substring(0,NavigationBarHide.length)==NavigationBarHide){for(var NavChild=NavFrame.firstChild;NavChild!==null;NavChild=NavChild.nextSibling){if(hasClass(NavChild,'NavPic')){NavChild.style.display='none';}if(hasClass(NavChild,'NavContent')){NavChild.style.display='none';}}NavToggle.firstChild.data=NavigationBarShow+' '+
NavToggle.firstChild.data.substring(NavigationBarHide.length);}else if(NavToggle.firstChild.data.substring(0,NavigationBarShow.length)==NavigationBarShow){for(var NavChild=NavFrame.firstChild;NavChild!==null;NavChild=NavChild.nextSibling){if(hasClass(NavChild,'NavPic')){NavChild.style.display='block';}if(hasClass(NavChild,'NavContent')){NavChild.style.display='block';}}NavToggle.firstChild.data=NavigationBarHide+' '+NavToggle.firstChild.data.substring(NavigationBarShow.length);}}function createNavigationBarToggleButton(){var indexNavigationBar=0;var divs=document.getElementsByTagName("div");for(var i=0;NavFrame=divs[i];i++){if(hasClass(NavFrame,"NavFrame")){indexNavigationBar++;for(var j=0;j<NavFrame.childNodes.length;j++){if(hasClass(NavFrame.childNodes[j],"NavHead")){var NavToggle=document.createElement("a");NavToggle.className='NavToggle';NavToggle.setAttribute('id','NavToggle'+indexNavigationBar);NavToggle.setAttribute('href','javascript:toggleNavigationBar('+indexNavigationBar+
');');var NavToggleText=document.createTextNode(NavigationBarHide);NavToggle.appendChild(NavToggleText);NavFrame.childNodes[j].appendChild(NavToggle);}if(hasClass(NavFrame.childNodes[j],"NavHeadToggle")){var NavToggle=document.createElement("a");NavToggle.className='NavToggleTitle';NavToggle.setAttribute('id','NavToggle'+indexNavigationBar);NavToggle.setAttribute('href','javascript:toggleNavigationBar('+indexNavigationBar+');');var NavToggleText=document.createTextNode(NavigationBarHide+' '+NavFrame.childNodes[j].firstChild.nodeValue);NavToggle.appendChild(NavToggleText);NavFrame.childNodes[j].appendChild(NavToggle);NavFrame.childNodes[j].firstChild.nodeValue='';}}NavFrame.setAttribute('id','NavFrame'+indexNavigationBar);}}if(NavigationBarShowDefault<indexNavigationBar){for(var i=1;i<=indexNavigationBar;i++){toggleNavigationBar(i);}}}addOnloadHook(createNavigationBarToggleButton);$(function(){var newTitle=$("#title-meta").html();if(!newTitle)return;var edits=$("#user_masthead_since").
text();$(".firstHeading,#WikiaUserPagesHeader h1,#WikiaPageHeader h1").html(newTitle);$("#user_masthead_head h2").html(newTitle+"<small id='user_masthead_since'>"+edits+"</small>");});$(function(){if($('#IRClogin').length||$('#CVNIRClogin').length){var nick='';if(mw.config.get('wgUserName')===null){nick='Wikian'+Math.floor(Math.random()*100);}else{nick=mw.config.get('wgUserName').replace(/ /g,"_");}$('#IRClogin').html('<iframe src="http://webchat.freenode.net/?nick='+nick+'&channels=reddit-mlp&prompt=true" width="660" height="400" style="border:0;"></iframe>');$('#CVNIRClogin').html('<iframe src="http://webchat.freenode.net/?nick='+nick+'&channels=cvn-wikia-mlp&prompt=true" width="660" height="400" style="border:0;"></iframe>');}});if(mw.config.get('wgPageName')==="My_Little_Pony_Friendship_is_Magic_Wiki:Duplicate_images"){importScriptPage('DupImageList/code.js','dev');}if($('section.ChatModule').length>0){$.get("/wiki/MediaWiki:Chat-headline?action=raw",function(result){if($(
'p.chat-name').length>0){$('p.chat-name').html(result);}else{var chatDescInt=setInterval(function(){if($('p.chat-name').length>0){$('p.chat-name').html(result);clearInterval(chatDescInt);}},50);}});}$(function(){if(window.disableUsernameReplace||mw.config.get('wgUserName')===null)return;$('span.insertusername').html(mw.config.get('wgUserName'));});if({'User':1,'User_blog':1,'User_talk':1}[mw.config.get('wgCanonicalNamespace')]||mw.config.get('wgPageName').indexOf('Special:Contributions')!==-1){importScript('MediaWiki:Common.js/userRightsIcons.js');}$(document).ready(function(){var redlink=window.location.hash;if(mw.config.get('wgPageName')==='Help:Red_links'&&redlink!==''){redlink=redlink.slice(1);if(redlink.charAt(0)===':'){redlink=redlink.substring(1);}if(redlink.substr(0,5)!=='File:'){redlink=redlink.replace(/\./g,'%');}else{var head=redlink.substring(0,redlink.lastIndexOf('.'));var tail=redlink.substring(redlink.lastIndexOf('.'));redlink=head.replace(/\./g,'%')+tail;}$(
"#insertredlink a").attr("href","/wiki/"+decodeURIComponent(redlink)+"?action=history");$("#insertredlink a").css("font-weight","bold");}});if(mw.config.get('wgPageName').indexOf('Special:MovePage/File:')!==-1){$('input#wpLeaveRedirect').removeAttr('checked');}$(window).load(function(){if($(".toc-multicol #toc").size()!==0){$(function(){var x,tdToAppend,listToAppend,showtext='show',hidetext='hide';$("#toc").css("width","100%");$("#toc ul").html("<table><tr><td>"+$("#toc ul").html()+"</td></tr></table>");var liList=$("#toc ul li").toArray();$('table#toc ul').remove();if(liList.length%3===0){x=0;}else{x=3-(liList.length%3);}var perCol=(liList.length+x)/3;for(var colNum=0;colNum<3;colNum++){listToAppend="";for(var i=0+(colNum*perCol);i<(perCol*(colNum+1));i++){if(typeof(liList[i])=="undefined"){break;}tempElement=document.createElement("div");tempElement.appendChild(liList[i]);listToAppend+=tempElement.innerHTML;}tdToAppend+=
'<td style="vertical-align: top; width: 33%;"><ul><table><tbody><tr><td><table><tbody><tr><td><table><tbody><tr><td>'+listToAppend+'</td></tr></tbody></table></td></tr></tbody></table></td></tr></tbody></table></ul></td>';}$('#toc tbody').append('<tr>'+tdToAppend+'</tr>');$('#toc tbody tr:eq(0) td').attr("colspan","3");var indentFactor=10;$("head").append("<style>.toclevel-1{padding-left: "+(indentFactor*1)+"px !important}.toclevel-2{padding-left: "+(indentFactor*2)+"px !important}.toclevel-3{padding-left: "+(indentFactor*3)+"px !important}.toclevel-4{padding-left: "+(indentFactor*4)+"px !important}</style>");$("#togglelink").off("click").click(function(e){e.preventDefault();$('#toc ul').slideToggle("fast");if($(this).text()===showtext){$(this).text(hidetext);}else{$(this).text(showtext);}});if(!$('#toc ul').is(':hidden')&&$('#togglelink').text()===showtext){$('#togglelink').text(hidetext);}});}});if((mediaWiki.config.get("wgAction")==="edit"||mediaWiki.config.get("wgAction")===
"submit")&&mediaWiki.config.get("wgUserGroups").indexOf("bot")!==-1){$("#EditPageHeader").after('<div id="botWarning" style="background-color: red; display:block; padding: 5px 0px; text-align: center; font-weight: bold; font-size: 110%;">NOTE: You are currently editing with your bot flag set.</div>');}$(document).ready(function(){var $a=$('a[data-id="edit"]');if($a.length&&$a.attr('href').indexOf('Special:SignUp')!==-1){$a.parent().children('ul.WikiaMenuElement').prepend('<li><a href="/wiki/'+mw.config.get('wgPageName')+'?action=edit">View source</a></li>');}});if($("div.profile-image img.lzyPlcHld").length>0){$("div.profile-image img.lzyPlcHld").each(function(){$(this).attr("src",$(this).attr("data-src"));});}if($('.rightsrecord').length){importScriptPage('UserRightsRecord/code.js','dev');}if($('.emote-template').length||$('#WikiaArticleComments').length){$(function(){function emotify($this){var emote=$this.text();var url=emotes.match(new RegExp(
'\\n\\*\\s*(.*)\\n(?:\\*\\*.*\\n)*(?=.*'+emote.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,'\\$1')+')','i'));if(url){url=url[1];$this.html($('<img />',{'src':url,'alt':emote}));}}var emotes='';$.getJSON('/api.php?action=query&prop=revisions&titles=MediaWiki:Emoticons'+'&rvprop=content&format=json',function(data){emotes=data.query.pages['28113'].revisions[0]['*'];$('.emote-template').each(function(){emotify($(this));});});$('#WikiaArticleFooter').on('DOMNodeInserted',function(){if($('.emote-template').length===$('.emote-template img').length){return;}$('#WikiaArticleFooter .emote-template').each(function(){if(!($(this).children('img').length)){emotify($(this));}});});});}$(function(){var search=mw.util.getParamValue('search');if(mw.config.get('wgPageName')==='Special:Search'&&search.length<=6&&/S\d+E\d+/i.test(search)){$('.results-wrapper p').html('Redirecting to episode...');var s,e;s=search.toLowerCase().split('e')[0].substr(1);e=search.toLowerCase().split('e')[1];$.getJSON(
'/api.php?action=edit&action=parse&text={{nameconvert|'+s+'|'+e+'}}&format=json',function(data){var episode=(data.parse.text['*'].match(/\>(.*)\n\</)||[0,0])[1];if(episode&&episode!=='TBA'&&episode.indexOf('<span class="error">')===-1){$('.results-wrapper p').append($('<a />',{'href':'/wiki/'+episode,'text':episode}));window.location.href=window.location.href.substring(0,window.location.href.lastIndexOf('/')+1)+episode;}else{$('.results-wrapper p').html('Episode not found.');}});}});$(function(){if(mw.config.get('wgCanonicalSpecialPageName')!=='Upload'||mw.util.getParamValue('wpForReUpload')){return;}var $summary=$('#wpUploadDescription'),$filename=$('#wpDestFile'),eptest=/S\d+E\d+/i,charCats=[],charCatsEG=[],shortcuts={'EG':{}},pending=0,nicknames={'Lyra Heartstrings':'Lyra','Princess Luna':'Nightmare Moon'},ccStorage=window.sessionStorage.characterCategories;function nameCat(input){return input.substring(9).replace(' images','');}function cat(str){if($summary.val().indexOf('[['+
'Category:'+str+']]')===-1){$summary.val($summary.val()+($summary.val()?'\n':'')+'[['+'Category:'+str+']]');}}function profile(){if(/\sID(?:\s|\.png|\.jpg)/i.test($filename.val().replace(/_/g,' '))){cat('Profile images');}}function findCats(filename,isEG){var arr=isEG?charCatsEG:charCats;for(var i=0;i<arr.length;i++){if(filename.indexOf(nameCat(arr[i]))!==-1){cat(arr[i].substring(9)+(isEG?'/EG':''));}}if(isEG){$.each(shortcuts.EG,function(key,value){if(filename.indexOf(nameCat(key))!==-1){cat(value.substring(9)+'/EG');}});}else{$.each(shortcuts,function(key,value){if(filename.indexOf(nameCat(key))!==-1&&key!=='EG'){cat(value.substring(9));}});}}$('#wpUploadDescription').closest('tr').after('<tr><td></td><td id="char-cat-warning"><p style="color:red;"><strong>Note</strong>: '+'the character category script will only add characters fully named in the file name.<br />'+'Please correct any erroneous categories and add missing ones. Report any issues '+
'<a href="/wiki/User_talk:Bobogoobo" title="User talk:Bobogoobo">here</a>.<br />'+'Character category database loading...</p></td></tr>');if(typeof ccStorage!=='undefined'){charCats=JSON.parse(ccStorage).charCats;charCatsEG=JSON.parse(ccStorage).charCatsEG;shortcuts=JSON.parse(ccStorage).shortcuts;$('#char-cat-warning p').append('retrieved from storage.');}if(typeof window.sessionStorage!=='undefined'&&!window.sessionStorage.characterCategories){$.getJSON('/api.php?action=query&list=categorymembers&cmtitle=Category:Character images'+'&cmprop=title&cmlimit=max&format=json',function(data){pending+=1;function checkComplete(){if(pending===0&&charCats.length>0){$('#char-cat-warning p').append('done!');if(typeof window.sessionStorage!=='undefined'){window.sessionStorage.characterCategories=JSON.stringify({'charCats':charCats,'charCatsEG':charCatsEG,'shortcuts':shortcuts});$('#char-cat-warning p').append(' Saved to browser session storage.');}}}function fEach(response){pending+=response.query
.categorymembers.length;$.each(response.query.categorymembers,function(index,value){if(value.title==='Category:Cutie Mark Crusaders images'||value.title==='Category:Equestria Girls character images'){pending-=1;return;}if(value.title.substring(value.title.length-3)==='/EG'){charCatsEG.push(value.title.replace('/EG',''));if(value.title.indexOf('Princess')!==-1){shortcuts.EG[value.title.replace('Princess ','').replace('/EG','')]=value.title.replace('/EG','');}}else{charCats.push(value.title);if(value.title.indexOf('Princess')!==-1){shortcuts[value.title.replace('Princess ','')]=value.title;}if(nicknames[nameCat(value.title)]){shortcuts['Category:'+nicknames[nameCat(value.title)]+' images']=value.title;}}fGet(value.title);});}function fGet(title){$.getJSON('/api.php?action=query&list=categorymembers&cmtitle='+title+'&cmprop=title&cmtype=subcat&cmlimit=max&format=json',function(response){if(response.query.categorymembers.length){fEach(response);}pending-=1;checkComplete();});}fEach(data);
pending-=1;checkComplete();});}$filename.change(function(){var name=$filename.val().replace(/_/g,' ');if($summary.val().indexOf('[[Category:')!==-1){return;}else if(name.substring(0,6)==='SLIDER'){cat('Front page sliders');}else if(eptest.test(name)){var match=name.match(eptest)[0].split(/e/i);$.getJSON('/api.php?action=parse&text={{nameconvert|'+match[0].substr(1)+'|'+match[1]+'}}&format=json',function(data){var episode=(data.parse.text['*'].match(/>(.*)\n</)||[0,0])[1];if(episode&&episode!=='TBA'&&episode.indexOf('<span class="error">')===-1){cat(episode+' images');findCats(name,false);profile();}});}else if(/\sEG(?:\s|\.png)/i.test(name)){cat('Equestria Girls images');findCats(name,true);profile();}else if({'Comic ':1,'Comics':1}[name.substring(0,6)]){cat('Comics images');profile();}else if(name.substring(0,7)==='FANMADE'){cat('Fanmade images');}});$('#mw-upload-form').on('DOMNodeInserted','#mw-upload-thumbnail',function(ev){if(ev.target.id==='mw-upload-thumbnail'){$filename.change(
);}});});$(function(){if(mw.config.get('wgPageName')!=='List_of_ponies/fast'||mw.util.getParamValue('action')||mw.util.getParamValue('oldid')){return;}var page=mw.util.getParamValue('loppage')||'List_of_ponies',fastpony=window.fastpony||[1,9],ponycols=window.fastcolumns||($.inArray(8,fastpony)>-1?1:1);if(page!=='List_of_ponies'){$('#lop-backlink').html('Back to the ').append($('<a />',{'href':'/wiki/List_of_ponies/fast','title':'List of ponies/fast','text':'full fast list'})).append('.');$('#lop-thislink').html('See the ').append($('<a />',{'href':'/wiki/'+page+(window.location.hash?window.location.hash:''),'title':page.replace(/_/g,' '),'text':'full version of this page'})).append('.');}$('#mw-content-text').after($('<img />',{'id':'lopspinner','style':'margin:auto;','src':'http://slot1.images.wikia.nocookie.net/__cb62004/common/skins/common/progress-wheel.gif'}));$.getJSON('/api.php?action=parse&page='+page+'&prop=text&format=json',function(data){if(data.error){$('#mw-content-text').
append($('<span />',{'class':'error','html':data.error.info}));$('#lop-thislink').remove();return;}var $html=$('<div>'+data.parse.text['*']+'</div>'),charpage=/See <a.*>(.*)<\/a>\./,newTitle,$thead,$tbody,$newTable,newRows='<tr>';newTitle=($('#title-meta',$html).html()||page.replace(/_/g,' '))+' (fast)';$('#WikiaPageHeader h1:first').html(newTitle);document.title=newTitle+' - '+mw.config.get('wgSitename');if(page==='List_of_ponies'){$('#toc',$html).parent().remove();$('.listofponies',$html).nextUntil('noscript').remove();$('a[href^="/wiki/List_of_"]',$html).each(function(){$(this).attr('href','/wiki/List_of_ponies/fast?loppage='+$(this).attr('href').replace('/wiki/',''));});}$('.wikitable:first',$html).prev().remove();$('.wikitable:first',$html).remove();$('.listofponies',$html).css('width','auto');$('.listofponies tr',$html).each(function(){var $first=$(this).children('td:nth-child(1)'),$desc=$(this).children('td:nth-child(8)'),match,link,toRemove;if($.inArray(8,fastpony)===-1&&
charpage.test($desc.html())&&$desc.children('a:first').attr('title')!=='List of ponies'){match=$desc.html().match(charpage)[1];link=$('<a />',{'href':'/wiki/'+encodeURIComponent(match.replace(/ /g,'_')),'title':match,'text':$first.text()})[0].outerHTML;if($first.children('b').length){$first.html($(link).wrapInner('<b></b>'));}else if($first.children('a').length){$first.children('a:first').text('(poll)');$first.html(link+' '+$first.html());}else{$first.html(link);}}toRemove=$(this).children();for(var i=0;i<fastpony.length;i++){toRemove=toRemove.not(':nth-child('+fastpony[i]+')');}toRemove.remove();});if(ponycols>1){$newTable=$('.listofponies',$html).clone().empty();$thead=$('tr:first',$html);for(var i=1;i<ponycols;i++){$thead.append('<th class="unsortable" style="width:1em;"></th>');for(var j=0;j<fastpony.length;j++){$thead.append($thead.children('th').eq(j).clone());}}$newTable.append($thead);$tbody=$('tr:not(:first) td',$html);for(var k=1;k<$tbody.length+1;k++){if(k%(fastpony.length*
ponycols)===0){newRows+=$tbody[k-1].outerHTML+'</tr><tr>';}else if(k%fastpony.length===0){newRows+=$tbody[k-1].outerHTML+'<td></td>';}else{newRows+=$tbody[k-1].outerHTML;}}$newTable.append(newRows+'</tr>');$('.listofponies',$html).replaceWith($newTable);}$('#mw-content-text').append($html.html());mw.loader.using('jquery.tablesorter',function(){$('table.sortable').tablesorter();});if(window.location.hash){window.location.hash=window.location.hash;}}).fail(function(){$('#mw-content-text').append($('<span />',{'class':'error','html':'An error occurred. Try refreshing the page.'}));}).always(function(){$('#lopspinner').remove();});});if(mw.config.get('wgAction')==='protect'){$('#mwProtectUnchained').removeAttr('checked');}if(mw.config.get('wgPageName')==='Special:BlankPage'&&mw.util.getParamValue('blankspecial')==='ponystats'){importScript('MediaWiki:Common.js/PonyStats.js');}$(function(){if(mw.config.get('wgPageName')!=='Special:BlankPage'||mw.util.getParamValue('blankspecial')!==
'transcripts'){return;}var $content=$('#mw-content-text > p'),$heading=($('#WikiaPageHeader').length?$('#WikiaPageHeader'):$('.AdminDashboardArticleHeader')).children('h1'),sections=[],sorting=[],total=0,completed=0;function nospecials(str){return str.replace(/\W/g,'');}$heading.html('Transcripts/All');document.title='All Transcripts - '+mw.config.get('wgSitename');$content.html('<span style="font-size:125%;">&lt; <a href="/wiki/Transcripts" title="Transcripts">Transcripts</a></span>'+'<p>This page loads the full transcript of every episode and film in the show (may take some time). '+'It is made to help with searching every transcript at once.<br />Please make any bug reports or suggestions '+'<a href="/wiki/User_talk:Bobogoobo" title="User talk:Bobogoobo">here</a>.</p>'+'<div id="transcripts-toc" style="margin:1em 0; border:1px solid #D9D9D9; padding:0.5em;">'+'<h2 style="width:100%; text-align:center; margin-top:0; border-bottom:0;">Progress</h2>'+
'<table style="width:100%;"><tr><td style="width:100%;">'+'<div style="height:100%; width:0%; text-align:center; background-color:#DCAEEE">'+'<span id="transcripts-progress">0</span>%</div></td></tr></table>');$.getJSON('/api.php?action=parse&page=Template:Transcripts&prop=links&format=json',function(data){data=data.parse.links;for(var i=2;i<data.length-2;i++){if(data[i].exists===''){sections.push(data[i]['*'].replace('Transcripts/',''));}if(i===66){sections.push('My Little Pony Equestria Girls');sorting.push('');total+=1;}sorting.push('');total+=1;}for(var j=0;j<sections.length;j++){$content.append($('<h2 />',{'id':nospecials(sections[j]),'html':$('<a />',{'href':'/wiki/'+sections[j].replace(/ /g,'_'),'title':sections[j],'text':sections[j]})}));(function(index){$.getJSON('/api.php?action=parse&prop=text|categories&format=json&page=Transcripts/'+sections[index],function(data){if(data.parse.categories.length===1){sorting[index]='Season '+data.parse.categories[0]['*'].replace(/[^\d]/g,''
);}data=data.parse.text['*'];data=data.substring(data.indexOf('</table>')+8,data.lastIndexOf('<table',data.lastIndexOf('<table')-1));$('#'+nospecials(sections[index])).after(data);completed+=1;$('#transcripts-toc div').css('width',completed/total*100+'%');$('#transcripts-progress').text((completed/total*100).toFixed(2));if(completed===total){makeTOC();}});}(j));}function makeTOC(){$('#transcripts-toc h2').text('Contents');$('#transcripts-toc table').html('<tr></tr><tr><td style="text-align:center; width:100%;"></td></tr>');for(var i=0;i<sorting.length;i++){if((i===0||sorting[i]!==sorting[i-1])&&sorting[i]){$('#transcripts-toc table tr:first').append('<td style="vertical-align:top;">'+'<h3 style="width:100%; text-align:center;">'+sorting[i]+'</h3><ul></ul></td>');}if(!sorting[i]){if($('#transcripts-toc table tr:last td').text()){$('#transcripts-toc table tr:last td').append(' â€¢ ');}$('#transcripts-toc table tr:last td').append($('<a />',{'href':'#'+nospecials(sections[i]),'text':
sections[i]}));}else{$('#transcripts-toc table tr:first td:last ul').append($('<li />').append($('<a />',{'href':'#'+nospecials(sections[i]),'text':sections[i]})));}}$('#transcripts-toc table td:last').attr('colspan',$('#transcripts-toc table tr:first td').length);}$.getJSON('/api.php?action=parse&text={{Transcripts|state=expanded}}&prop=text&disablepp=true&format=json',function(data){$content.append(data.parse.text['*']);});});});if(mw.config.get('wgPageName')==='Special:BlankPage'&&mw.util.getParamValue('blankspecial')==='non720'){$('#mw-content-text').html('<p>This list is generated from subcategories of Category:Episode images. Please check whether an image is intended to be the size it is before reuploading it. Make any suggestions (including additional patterns that should be skipped) <a href="/wiki/User_talk:Bobogoobo" title="User talk:Bobogoobo">here</a>.</p><div id="non720" style="width:100%;"></div>');importScript('MediaWiki:Common.js/Non720.js');}if(mw.config.get(
'wgPageName')==='Special:BlankPage'&&mw.util.getParamValue('blankspecial')==='deadvideos'){window.deadVideosCategories=['','Fanmade','Non-MLP','Other MLP','Promotional','Show','Quote','Scene','Song','International song','Equestria Girls international song','Season 1 international song','Season 2 international song','Season 3 international song','Season 4 international song'];importScript('MediaWiki:Common.js/DeadVideos.js');}$(function(){if(mw.config.get('wgPageName')!=='List_of_ponies/full'||mw.config.get('wgAction')==='edit'){return;}var code,templates=[],$html;$('#mw-content-text').html('<p>This text will be replaced when the list is done loading.</p>');$.getJSON('/api.php?action=query&prop=revisions&titles=List of ponies&rvprop=content&rvlimit=1&format=json',function(data){var match,search=/#lst/g,headings;code=data.query.pages['3151'].revisions[0]['*'];code=code.substring(code.indexOf('{|'),code.indexOf('\n|}')+3);headings=code.substring(0,code.indexOf('|-',code.indexOf('|-')+1));
code=code.substring(headings.length-1);$.getJSON('/api.php?action=parse&prop=text&disablepp=true&format=json&text='+encodeURIComponent(headings),function(result){headings=result.parse.text['*'];$('#mw-content-text').append(headings+'</th></tr></table>');while((match=search.exec(code))!==null){templates.push(code.substring(match.index-2,code.indexOf('}',match.index)+2).replace('#','%23'));}$html=$('#mw-content-text table.listofponies');$.getJSON('/api.php?action=parse&text={{lop legend}}&format=json&prop=text&disablepp=true',function(stuff){$html.before($('<div>'+stuff.parse.text['*']+'</div>').children('table'));});insertLists(0,finalize);});function insertLists(index,callback){$.getJSON('/api.php?action=parse&prop=text&disablepp=true&format=json&text='+templates[index],function(result){var replace={'||style':'</td><td style','||align':'</td><td align','||':'</td><td>','|-':'</tr><tr>','|id':'<td id','|data-':'<td data-','|<':'<td><','\\n|(\\w)':'<td>$1','|':'>','^(\\w*</td><td>)':
'<td>$1'};result=result.parse.text['*'].substring(3,result.parse.text['*'].length-4);$.each(replace,function(key,value){result=result.replace(new RegExp(key.replace(/([|-])/g,'\\$1'),'g'),value);});if(index===templates.length-1){$html.append('</td></tr><tr><td '+result+'</td></tr>');callback();}else if(index===0){$html.append('<tr><td '+result);insertLists(index+1,callback);}else{$html.append('</td></tr><tr><td '+result);insertLists(index+1,callback);}});}function finalize(){mw.loader.using('jquery.tablesorter',function(){$('table.sortable').tablesorter();});$('#mw-content-text > p').remove();$('#mw-content-text').prepend('<p>This is the full list of ponies so that every pony can be viewed '+'and sorted at once. Please report any bugs <a href="/wiki/User_talk:Bobogoobo" '+'title="User talk:Bobogoobo">here</a>. See the parent page for links to the sublists and related pages.'+'<br /></p>');if(window.location.hash){window.location.hash=window.location.hash;}}});});$(
'a[href^="/wiki/List_of_ponies#"]').each(function(){$(this).attr('href',$(this).attr('href').replace('#','/full#'));});importScriptPage('LWN/code.js','dev');if(mw.config.get('wgCanonicalSpecialPageName')=="Upload"||mw.config.get('wgCanonicalSpecialPageName')=="MultipleUpload"){var uploadStage=-1;$('.mw-htmlform-submit').click(function(e){var wordRegex=new RegExp(/((_| )oc(_| )|author|fanmade|(_| )by(_| ))/gi);if(mw.config.get('wgCanonicalSpecialPageName')=="Upload"){var filename=$('#wpDestFile').val(),nameStart=filename.substring(0,7);if(nameStart!="FANMADE"&&wordRegex.test(filename)&&uploadStage!=0){e.preventDefault();alert('The filename you have chosen has been suspected of needing "FANMADE" at the front. Please check before uploading with the current name.');uploadStage++;}}else{var filenames=[],nameStarts=[];if(mw.config.get("wgUserGroups").indexOf('sysop')>-1){for(var i=0;i<20;i++){filenames.push($('#wpDestFile'+i).val());nameStarts.push($('#wpDestFile'+i).val().substring(0,7));}}
else{for(var i=0;i<10;i++){filenames.push($('#wpDestFile'+i).val());nameStarts.push($('#wpDestFile'+i).val().substring(0,7));}}if(nameStarts.indexOf("FANMADE")==-1&&wordRegex.test(filenames)&&uploadStage!=0){e.preventDefault();alert('One or more of the filenames you have chosen have been suspected of needing "FANMADE" at the front. Please check before uploading with the current names.');uploadStage++;}}});};mw.loader.state({"site":"ready"});

/* cache key: mlp:resourceloader:filter:minify-js:7:5370e4a94bf26139b9e203915ddbbd55 */